import { StoryObj } from '@storybook/react';
import React from 'react';
import styled from 'styled-components';

import { blenderCss } from '@clds/blender';
import { globalTheme } from '@clds/component-theme';

import { GenericIcon } from '../src/impl/GenericIcon';

export default {
  title: 'Iconography/GenericIcon',
  component: GenericIcon,
  parameters: {
    layout: 'fullscreen',
    docs: {
      source: {
        code:
          '<GenericIcon\n' +
          '  color="primary"\n' +
          '  path="svg path..."\n' +
          '/>',
      },
    },
  },
};

const IconBackground = styled.div`
  background: ${blenderCss.backgroundFromCssVariables};
  padding: ${globalTheme.spacing.md};
  display: inline-block;
  line-height: 0;
  border-radius: ${globalTheme.radius.round};
`;

const Surface = styled.div`
  display: inline-block;
  background: ${globalTheme.palette.surface};
  ${blenderCss.populateVariables({
    variant: 'primary',
    intensity: 'sm',
    mode: 'plainSolid',
  })}
  padding: ${globalTheme.spacing.md};
`;

export const Default: StoryObj<typeof GenericIcon> = {
  render: (props) => (
    <GenericIcon {...props} data-test-specifier="generic-icon" />
  ),
  args: {
    color: 'primary',
    path:
      // eslint-disable-next-line max-len
      'M19.77778 0C21 0 22 1.02857 22 2.28571v10c0 1.25715-1 2.28572-2.22222 2.28572h-4.44445L12 18l-3.33333-3.42857H4.22222C3 14.57143 2 13.54286 2 12.2857v-10C2 1.02857 3 0 4.22222 0h15.55556zM12 24c-1.10457 0-2-.89543-2-2s.89543-2 2-2 2 .89543 2 2-.89543 2-2 2z',
  },
  decorators: [
    (Story) => (
      <Surface>
        <IconBackground>
          <Story />
        </IconBackground>
      </Surface>
    ),
  ],
};
