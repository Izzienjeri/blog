import { createTypographyDriver, e2eAdapter, testAdapter } from '@clds/e2e';

// TODO: Create new function in e2e package
const storyUrl = (value: string) => value;

describe('typography', () => {
  beforeEach(async () => {
    console.log('Navigate to test page');
    await testAdapter.navigateTo(storyUrl('Typography/default'));

    await e2eAdapter.waitForVisible("[data-test='xxl-section']");
  });

  it('should display text in XXL section', async () => {
    await e2eAdapter.scrollToElement("[data-test='xxl-section']");

    console.log('Check element');
    await e2eAdapter.compareWithScreenshot(
      "[data-test='xxl-section']",
      'xxl-section',
    );
  });

  it('should display text in XL section', async () => {
    await e2eAdapter.scrollToElement("[data-test='xl-section']");

    console.log('Check element');
    await e2eAdapter.compareWithScreenshot(
      "[data-test='xl-section']",
      'xl-section',
    );
  });

  it('should display text in LG section', async () => {
    await e2eAdapter.scrollToElement("[data-test='lg-section']");

    console.log('Check element');
    await e2eAdapter.compareWithScreenshot(
      "[data-test='lg-section']",
      'lg-section',
    );
  });

  it('should display text in MD section', async () => {
    await e2eAdapter.scrollToElement("[data-test='md-section']");

    await testAdapter.log('Check element');
    await e2eAdapter.compareWithScreenshot(
      "[data-test='md-section']",
      'md-section',
    );
  });

  it('should display text in SM section', async () => {
    await e2eAdapter.scrollToElement("[data-test='sm-section']");

    console.log('Check element');
    await e2eAdapter.compareWithScreenshot(
      "[data-test='sm-section']",
      'sm-section',
    );
  });

  it('should display text in XS section', async () => {
    await e2eAdapter.scrollToElement("[data-test='xs-section']");

    console.log('Check element');
    await e2eAdapter.compareWithScreenshot(
      "[data-test='xs-section']",
      'xs-section',
    );
  });

  it('should display text in XXS section', async () => {
    await e2eAdapter.scrollToElement("[data-test='xxs-section']");

    console.log('Check element');
    await e2eAdapter.compareWithScreenshot(
      "[data-test='xxs-section']",
      'xxs-section',
    );
  });

  it('should display proper element found by specifier', async () => {
    await e2eAdapter.scrollToElement(
      "[data-test-specifier='xxl-overlayInvert']",
    );

    const driver = createTypographyDriver(e2eAdapter, {
      specifier: "[data-test-specifier='xxl-overlayInvert']",
    });

    console.log('Check element');
    await driver.compareWithScreenshot('xxl-overlayInvert');
  });

  it('should display proper element found by specifier and parentSelector', async () => {
    await e2eAdapter.scrollToElement("[data-test='lg-section']");

    const driver = createTypographyDriver(e2eAdapter, {
      specifier: "[data-test-specifier='lg-overlay']",
      parentSelector: "[data-test='lg-section']",
    });

    console.log('Check element');
    await driver.compareWithScreenshot('lg-overlay');
  });
});
