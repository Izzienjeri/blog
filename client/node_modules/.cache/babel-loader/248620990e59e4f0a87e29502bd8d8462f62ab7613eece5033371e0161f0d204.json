{"ast":null,"code":"import React from\"react\";import{useFormik}from\"formik\";import{retrieve}from\"../Encryption\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AddComment=_ref=>{let{blogPost,addComment}=_ref;const formik=useFormik({initialValues:{guest_name:retrieve()?retrieve().username||retrieve().firstname:\"\",content:\"\",post_id:blogPost.id,user_id:retrieve()?retrieve().user_id:\"\"},onSubmit:(values,_ref2)=>{let{resetForm}=_ref2;try{const encryptedData=localStorage.getItem(\"jwt\");if(encryptedData){addComment(values);}else{}resetForm();}catch(error){console.error(\"Error submitting comment:\",error);}}});return retrieve()!==null?/*#__PURE__*/_jsxs(\"div\",{className:\"ui centered card\",style:{marginTop:'20px',width:\"500px\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Comment on the Post\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"add_comment\",style:{marginBottom:'20px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"guest_name\",className:\"label_blog\",children:\"Guest Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"normal-inputs\",id:\"guest_name\",name:\"guest_name\",readOnly:true,onChange:formik.handleChange,value:formik.values.guest_name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",className:\"label_blog\",children:\"Comment\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"normal-inputs2\",style:{marginTop:'20px'},id:\"content\",name:\"content\",onChange:formik.handleChange,value:formik.values.content})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mini ui teal button\",style:{marginBottom:'20px',marginTop:'20px'},children:\"Submit your Comment\"})]})]}):/*#__PURE__*/_jsxs(\"p\",{children:[\"Please \",/*#__PURE__*/_jsx(\"a\",{href:\"/signIn\",children:\"login\"}),\" or \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"signup\"}),\" to comment\"]});};export default AddComment;","map":{"version":3,"names":["React","useFormik","retrieve","jsx","_jsx","jsxs","_jsxs","AddComment","_ref","blogPost","addComment","formik","initialValues","guest_name","username","firstname","content","post_id","id","user_id","onSubmit","values","_ref2","resetForm","encryptedData","localStorage","getItem","error","console","className","style","marginTop","width","children","handleSubmit","marginBottom","htmlFor","name","readOnly","onChange","handleChange","value","type","href"],"sources":["/home/angela/Development/code/flask/blog_app_project/client/src/components/AddComment.js"],"sourcesContent":["import React from \"react\";\nimport { useFormik } from \"formik\";\nimport { retrieve } from \"../Encryption\";\n\nconst AddComment = ({ blogPost, addComment }) => {\n  const formik = useFormik({\n    initialValues: {\n      guest_name: retrieve() ? retrieve().username || retrieve().firstname:\"\",\n      content: \"\",\n      post_id: blogPost.id,\n      user_id:retrieve() ? retrieve().user_id:\"\"\n    },\n    onSubmit: (values, { resetForm }) => {\n      try {\n        const encryptedData = localStorage.getItem(\"jwt\");\n\n        if (encryptedData) {\n          addComment(values);\n        } else {\n        }\n\n        resetForm();\n      } catch (error) {\n        console.error(\"Error submitting comment:\", error);\n      }\n    },\n  });\n\n  return retrieve() !== null ? (\n    <div className=\"ui centered card\" style={{ marginTop:'20px' ,width:\"500px\"}}>\n      <h3>Comment on the Post</h3>\n\n      <form onSubmit={formik.handleSubmit}>\n        <div className=\"add_comment\"style={{ marginBottom:'20px', marginTop:'20px'}}>\n          <label htmlFor=\"guest_name\" className=\"label_blog\" >Guest Name</label>\n          <br />\n          <input\n          className=\"normal-inputs\"\n            id=\"guest_name\"\n            name=\"guest_name\"\n            readOnly={true}\n            onChange={formik.handleChange}\n            value={formik.values.guest_name}\n          />\n          <br/>\n          <label htmlFor=\"content\" className=\"label_blog\">Comment</label>\n          <br />\n          <input\n           className=\"normal-inputs2\"\n           style={{ marginTop:'20px'}}\n            id=\"content\"\n            name=\"content\"\n            onChange={formik.handleChange}\n            value={formik.values.content}\n          />\n        </div>\n\n        <button type=\"submit\"  className=\"mini ui teal button\" style={{ marginBottom:'20px', marginTop:'20px'}}>Submit your Comment</button>\n      </form>\n    </div>\n  ) : (\n    <p>\n      Please <a href=\"/signIn\">login</a> or <a href=\"/register\">signup</a> to\n      comment\n    </p>\n  );\n};\n\nexport default AddComment;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}