{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{retrieve,store}from\"../Encryption\";import'semantic-ui-css/semantic.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ProfileImage=_ref=>{let{}=_ref;const[fileUpload,setFileUpload]=useState(null);const[image,setImage]=useState(null);const formData=new FormData();formData.append(\"file\",fileUpload);formData.append(\"description\",\"\");const navigate=useNavigate();const handleChange=e=>{const file=e.target.files[0];setFileUpload(file);const reader=new FileReader();reader.readAsDataURL(file);reader.onloadend=()=>{setImage(reader.result);console.log(reader.result);};};const handlePhotoSubmit=e=>{e.preventDefault();fetch('/upload_profileImage',{method:'PATCH',headers:{\"Authorization\":\"Bearer \"+retrieve().access_token},body:formData}).then(resp=>resp.json()).then(data=>{console.log(data);store(data);setImage(data);// navigate('/profile_page');\n});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:e=>{e.preventDefault();handlePhotoSubmit(e);},children:/*#__PURE__*/_jsx(\"div\",{className:\"profile-container\",style:{marginRight:\"90px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"ui card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Upload/Change Profile Image\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fileInput\",children:\"Upload Photo Here\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",onChange:e=>handleChange(e),required:true,accept:\"image/png,image/jpeg,image/jpg,image/jfif\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mini ui teal button\",style:{marginTop:'10px',marginBottom:\"10px\"},children:\"Save\"})]})})})});};export default ProfileImage;","map":{"version":3,"names":["React","useState","useNavigate","retrieve","store","jsx","_jsx","jsxs","_jsxs","ProfileImage","_ref","fileUpload","setFileUpload","image","setImage","formData","FormData","append","navigate","handleChange","e","file","target","files","reader","FileReader","readAsDataURL","onloadend","result","console","log","handlePhotoSubmit","preventDefault","fetch","method","headers","access_token","body","then","resp","json","data","children","onSubmit","className","style","marginRight","htmlFor","type","id","onChange","required","accept","marginTop","marginBottom"],"sources":["/home/angela/Development/code/flask/blog_app_project/client/src/components/ProfileImage.js"],"sourcesContent":["import React, {useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {retrieve,store} from \"../Encryption\";\nimport 'semantic-ui-css/semantic.min.css';\n\nconst ProfileImage = ({}) => {\n  const [fileUpload, setFileUpload] = useState(null);\n  const [image, setImage] = useState(null);\n  const formData = new FormData();\n  formData.append(\"file\", fileUpload);\n  formData.append(\"description\", \"\");\n  const navigate=useNavigate()\n  const handleChange = (e) => {\n    const file = e.target.files[0];\n    setFileUpload(file);\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onloadend = () => {\n        setImage(reader.result);\n        console.log(reader.result);\n    };\n};\n\nconst handlePhotoSubmit = (e) => {\n    e.preventDefault();\n    fetch('/upload_profileImage', {\n        method: 'PATCH',\n        headers: { \"Authorization\": \"Bearer \" + retrieve().access_token },\n        body: formData,\n    })\n        .then((resp) => resp.json())\n        .then((data) => {\n            console.log(data);\n            store(data);\n            setImage(data);\n            // navigate('/profile_page');\n        });\n};\n  return (\n    <div>\n      <form onSubmit={(e) => { e.preventDefault(); handlePhotoSubmit(e); }}>\n    <div className=\"profile-container\" style={{ marginRight: \"90px\" }}>\n        <div className=\"ui card\">\n            <div className=\"form-group\">\n                <h3>Upload/Change Profile Image</h3>\n                <label htmlFor=\"fileInput\">Upload Photo Here</label>\n                <input\n                    type=\"file\"\n                    id=\"file\"\n                    onChange={(e) => handleChange(e)}\n                    required\n                    accept=\"image/png,image/jpeg,image/jpg,image/jfif\"\n                />\n            </div>\n            <button type=\"submit\" className=\"mini ui teal button\" style={{ marginTop: '10px', marginBottom: \"10px\" }}>Save</button>\n        </div>\n    </div>\n</form>\n     \n      \n    </div>\n  )\n}\n\nexport default ProfileImage\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAQ,OAAO,CACtC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAAQC,QAAQ,CAACC,KAAK,KAAO,eAAe,CAC5C,MAAO,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAAQ,IAAP,CAAC,CAAC,CAAAA,IAAA,CACtB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAAc,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEN,UAAU,CAAC,CACnCI,QAAQ,CAACE,MAAM,CAAC,aAAa,CAAE,EAAE,CAAC,CAClC,KAAM,CAAAC,QAAQ,CAAChB,WAAW,CAAC,CAAC,CAC5B,KAAM,CAAAiB,YAAY,CAAIC,CAAC,EAAK,CAC1B,KAAM,CAAAC,IAAI,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAC9BX,aAAa,CAACS,IAAI,CAAC,CACnB,KAAM,CAAAG,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,aAAa,CAACL,IAAI,CAAC,CAE1BG,MAAM,CAACG,SAAS,CAAG,IAAM,CACrBb,QAAQ,CAACU,MAAM,CAACI,MAAM,CAAC,CACvBC,OAAO,CAACC,GAAG,CAACN,MAAM,CAACI,MAAM,CAAC,CAC9B,CAAC,CACL,CAAC,CAED,KAAM,CAAAG,iBAAiB,CAAIX,CAAC,EAAK,CAC7BA,CAAC,CAACY,cAAc,CAAC,CAAC,CAClBC,KAAK,CAAC,sBAAsB,CAAE,CAC1BC,MAAM,CAAE,OAAO,CACfC,OAAO,CAAE,CAAE,eAAe,CAAE,SAAS,CAAGhC,QAAQ,CAAC,CAAC,CAACiC,YAAa,CAAC,CACjEC,IAAI,CAAEtB,QACV,CAAC,CAAC,CACGuB,IAAI,CAAEC,IAAI,EAAKA,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,CAC3BF,IAAI,CAAEG,IAAI,EAAK,CACZZ,OAAO,CAACC,GAAG,CAACW,IAAI,CAAC,CACjBrC,KAAK,CAACqC,IAAI,CAAC,CACX3B,QAAQ,CAAC2B,IAAI,CAAC,CACd;AACJ,CAAC,CAAC,CACV,CAAC,CACC,mBACEnC,IAAA,QAAAoC,QAAA,cACEpC,IAAA,SAAMqC,QAAQ,CAAGvB,CAAC,EAAK,CAAEA,CAAC,CAACY,cAAc,CAAC,CAAC,CAAED,iBAAiB,CAACX,CAAC,CAAC,CAAE,CAAE,CAAAsB,QAAA,cACvEpC,IAAA,QAAKsC,SAAS,CAAC,mBAAmB,CAACC,KAAK,CAAE,CAAEC,WAAW,CAAE,MAAO,CAAE,CAAAJ,QAAA,cAC9DlC,KAAA,QAAKoC,SAAS,CAAC,SAAS,CAAAF,QAAA,eACpBlC,KAAA,QAAKoC,SAAS,CAAC,YAAY,CAAAF,QAAA,eACvBpC,IAAA,OAAAoC,QAAA,CAAI,6BAA2B,CAAI,CAAC,cACpCpC,IAAA,UAAOyC,OAAO,CAAC,WAAW,CAAAL,QAAA,CAAC,mBAAiB,CAAO,CAAC,cACpDpC,IAAA,UACI0C,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,MAAM,CACTC,QAAQ,CAAG9B,CAAC,EAAKD,YAAY,CAACC,CAAC,CAAE,CACjC+B,QAAQ,MACRC,MAAM,CAAC,2CAA2C,CACrD,CAAC,EACD,CAAC,cACN9C,IAAA,WAAQ0C,IAAI,CAAC,QAAQ,CAACJ,SAAS,CAAC,qBAAqB,CAACC,KAAK,CAAE,CAAEQ,SAAS,CAAE,MAAM,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,MAAI,CAAQ,CAAC,EACtH,CAAC,CACL,CAAC,CACJ,CAAC,CAGE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjC,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}